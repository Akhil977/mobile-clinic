<!DOCTYPE html>
<html lang="en">
<%- include ('component/head.ejs') %> 
<body class="animsition">
	
	<!-- Header -->
	<%- include ('component/header.ejs') %> 

	<!-- Cart -->
	<%- include ('component/cart.ejs') %> 


	<!-- Title page -->
	<!-- <section class="bg-img1 txt-center p-lr-15 p-tb-92" style="background-image: url('images/bg-01.jpg');">
		<h2 class="ltext-105 cl0 txt-center">
			Contact
		</h2>
	</section>	 -->


	<!-- Content page -->
	<% if (successMessage) { %>
		<div id="successMessage" class="alert alert-success text-center">
			<%= successMessage %>
		</div>
	<% } %>
	<section class="bg0 p-t-104 p-b-116">
		<div class="container">
			<div class="flex-w flex-tr">
				<div class="size-210 bor10 p-lr-70 p-t-55 p-b-70 p-lr-15-lg w-full-md">
					<button class="flex-c-m stext-101 cl0 size-121 bg3 bor1 hov-btn3 p-lr-15 trans-04 pointer" style="display: none; position: relative; top: 50%; bottom: 50%;" id="loginbtn">LOGIN</button>
					<form action="/signin" method="post" id="loginform">
						<h4 class="mtext-105 cl2 txt-center p-b-30">
							Sign In
						</h4>

						<div class="bor8 m-b-20 how-pos4-parent">
							<input class="stext-111 cl2 plh3 size-116 p-l-62 p-r-30" type="text" name="email" placeholder="Your Email Address">
							<!-- <img class="how-pos4 pointer-none" src="images/icons/icon-email.png" alt="ICON"> -->
						</div>

						<div class="bor8 m-b-30">
							<input class="stext-111 cl2 plh3 size-116 p-l-62 p-r-30" type="password" name="password" placeholder="Your Password...">
						</div>

						<input type="submit" class="flex-c-m stext-101 cl0 size-121 bg3 bor1 hov-btn3 p-lr-15 trans-04 pointer" placeholder="Submit">
							<!-- Submit
						</input> -->
					</form>
				</div>
				

				<div class="size-210 bor10 p-lr-70 p-t-55 p-b-70 p-lr-15-lg w-full-md">
					<button class="flex-c-m stext-101 cl0 size-121 bg3 bor1 hov-btn3 p-lr-15 trans-04 pointer" style="position: relative; top: 50%; bottom: 50%;" id="signupbtn">CREATE AN ACCOUNT</button>
					<form action="/signup" method="post" id="signupform" style="display: none;">
						<h4 class="mtext-105 cl2 txt-center p-b-30">
							Sign Up
						</h4>
						 <div class="bor8 m-b-20 how-pos4-parent">
            <span id="message-text" class="message-text"></span> <!-- This is where the message will appear -->
        </div>
						<div class="bor8 m-b-20 how-pos4-parent">
							<input class="stext-111 cl2 plh3 size-116 p-l-62 p-r-30" type="text" name="name" placeholder="First Name					Last Name">
						</div>

						<div class="bor8 m-b-20 how-pos4-parent">
							<input class="stext-111 cl2 plh3 size-116 p-l-62 p-r-30" type="text" name="email" placeholder="Your Email Address">
						</div>
                        <div class="bor8 m-b-20 how-pos4-parent">
							<input class="stext-111 cl2 plh3 size-116 p-l-62 p-r-30" type="text" name="phonenumber" placeholder="Your Phone Number">
						</div>

						<div class="bor8 m-b-20 how-pos4-parent">
							<input class="stext-111 cl2 plh3 size-116 p-l-62 p-r-30" type="password" name="password" placeholder="Your Password">
						</div>
                        <div class="bor8 m-b-20 how-pos4-parent">
							<input class="stext-111 cl2 plh3 size-116 p-l-62 p-r-30" type="password"  name="confirmPassword" placeholder="confirm  Password">
						</div>

						

						<input type="submit" class="flex-c-m stext-101 cl0 size-121 bg3 bor1 hov-btn3 p-lr-15 trans-04 pointer" placeholder="Submit">
							<!-- Submit
						</input> -->
					</form>
				</div>
			</div>
		</div>
	</section>	
	
	<!-- Map -->
	<div class="map">
		<div class="size-303" id="google_map" data-map-x="40.691446" data-map-y="-73.886787" data-pin="images/icons/pin.png" data-scrollwhell="0" data-draggable="1" data-zoom="11"></div>
	</div>



	<!-- Footer -->
	<%- include ('component/footer.ejs') %>

<!-- Script -->
<script src="vendor/jquery/jquery-3.2.1.min.js"></script>
<%- include ('component/script.ejs') %> 

</body>
<script>
    // Hide the success message after 5 seconds
    if (document.getElementById('successMessage')) {
        setTimeout(function() {
            document.getElementById('successMessage').style.display = 'none';
        }, 5000); // 5 seconds
    }
	</script>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $('#signupform').submit(function(e) {
        e.preventDefault();  // Prevent default form submission

        const formData = $(this).serialize();  // Serialize form data

        // Send AJAX request
        $.ajax({
            url: '/signup',  // Your signup route
            type: 'POST',
            data: formData,
            success: function(response) {
                // If there's an error message, show it
                if (response.errorMessage) {
                    $('#message-text').text(response.errorMessage).css('color', 'red').show();
                }

                // If there's a success message, show it
               

                    // Optionally, you can redirect or hide the form after success
                    // window.location.href = '/login';  // Redirect to login
                    // or
                    // $('#signupform').hide(); // Hide the signup form
                
            },
            error: function(xhr, status, error) {
                $('#message-text').text('There was an error, please try again later.').css('color', 'red').show();
            }
        });
    });
</script>

</html>